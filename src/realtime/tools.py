#!/usr/bin/env python3
"""
Tool schemas and constants for YCLIENTS integration.
"""

from typing import Dict, List, Any

from .events import Tool

# YCLIENTS tool schemas
YCLIENTS_TOOLS: List[Tool] = [
    Tool(
        name="yclients_list_services",
        type="function",
        description="–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —É—Å–ª—É–≥ –∫–ª–∏–Ω–∏–∫–∏",
        parameters={
            "type": "object",
            "properties": {
                "branch_id": {
                    "type": "integer",
                    "description": "ID —Ñ–∏–ª–∏–∞–ª–∞ –∫–ª–∏–Ω–∏–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)"
                },
                "category": {
                    "type": "string",
                    "description": "–ö–∞—Ç–µ–≥–æ—Ä–∏—è —É—Å–ª—É–≥ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)",
                    "enum": ["–º–∞–Ω–∏–∫—é—Ä", "–ø–µ–¥–∏–∫—é—Ä", "–ø–∞—Ä–∏–∫–º–∞—Ö–µ—Ä—Å–∫–∏–µ —É—Å–ª—É–≥–∏", "—É—Ö–æ–¥—ã –¥–ª—è –≤–æ–ª–æ—Å", "–æ–∫—Ä–∞—à–∏–≤–∞–Ω–∏–µ", "–∫–æ—Å–º–µ—Ç–æ–ª–æ–≥–∏—è", "–≤–∏–∑–∞–∂", "–≤—Å–µ"]
                },
                "limit": {
                    "type": "integer",
                    "description": "–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—Å–ª—É–≥",
                    "default": 202,
                    "minimum": 1,
                    "maximum": 202
                }
            },
            "required": []
        }
    ),

    Tool(
        name="yclients_search_slots",
        type="function",
        description="–ù–∞–π—Ç–∏ —Å–≤–æ–±–æ–¥–Ω—ã–µ —Å–ª–æ—Ç—ã –¥–ª—è –∑–∞–ø–∏—Å–∏ –Ω–∞ —É—Å–ª—É–≥—É",
        parameters={
            "type": "object",
            "properties": {
                "doctor_id": {
                    "type": "integer",
                    "description": "ID –≤—Ä–∞—á–∞"
                },
                "date": {
                    "type": "string",
                    "format": "date",
                    "description": "–î–∞—Ç–∞ –ø–æ–∏—Å–∫–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ YYYY-MM-DD "
                }
            },
            "required": ["doctor_id", "date"]
        }
    ),

    Tool(
        name="yclients_create_appointment",
        type="function",
        description="–°–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å –Ω–∞ –ø—Ä–∏–µ–º",
        parameters={
            "type": "object",
            "properties": {
                "service_id": {
                    "type": "integer",
                    "description": "ID —É—Å–ª—É–≥–∏"
                },
                "doctor_id": {
                    "type": "integer",
                    "description": "ID –≤—Ä–∞—á–∞"
                },
                "datetime": {
                    "type": "string",
                    "format": "date-time",
                    "description": "–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –∑–∞–ø–∏—Å–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ ISO8601"
                },
                "client_name": {
                    "type": "string",
                    "description": "–ò–º—è –∫–ª–∏–µ–Ω—Ç–∞",
                    "minLength": 2,
                    "maxLength": 100
                },
                "client_phone": {
                    "type": "string",
                    "description": "–¢–µ–ª–µ—Ñ–æ–Ω –∫–ª–∏–µ–Ω—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ +7XXXXXXXXXX",
                    "pattern": "^\\+7\\d{10}$"
                },
                "comment": {
                    "type": "string",
                    "description": "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –∑–∞–ø–∏—Å–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)",
                    "maxLength": 500
                }
            },
            "required": ["service_id", "doctor_id", "datetime", "client_name", "client_phone"]
        }
    ),

    Tool(
        name="yclients_list_doctors",
        type="function",
        description="–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Ä–∞—á–µ–π –∫–ª–∏–Ω–∏–∫–∏",
        parameters={
            "type": "object",
            "properties": {
                "specialization": {
                    "type": "string",
                    "description": "–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤—Ä–∞—á–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)",
                    "enum": ["—Ç–µ—Ä–∞–ø–µ–≤—Ç", "—Ö–∏—Ä—É—Ä–≥", "–æ—Ä—Ç–æ–ø–µ–¥", "–æ—Ä—Ç–æ–¥–æ–Ω—Ç", "–∏–º–ø–ª–∞–Ω—Ç–æ–ª–æ–≥", "–≥–∏–≥–∏–µ–Ω–∏—Å—Ç"]
                }
            },
            "required": []
        }
    ),

    # –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ—Ñ–∏–ª—è–º–∏
    # Tool(
    #     name="get_user_info",
    #     type="function",
    #     description="–ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ: —Å–Ω–∞—á–∞–ª–∞ –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è, –µ—Å–ª–∏ –Ω–µ—Ç - –∏–∑ Telegram. –ï—Å–ª–∏ telegram_id –Ω–µ —É–∫–∞–∑–∞–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è ID —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",
    #     parameters={
    #         "type": "object",
    #         "properties": {
    #             "telegram_id": {
    #                 "type": "integer",
    #                 "description": "ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Telegram (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ç–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)"
    #             }
    #         },
    #         "required": []
    #     }
    # ),

    # Tool(
    #     name="register_user",
    #     type="function",
    #     description="–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Å–∏—Å—Ç–µ–º–µ —Å —Å–æ–∑–¥–∞–Ω–∏–µ–º –ø—Ä–æ—Ñ–∏–ª—è –≤ YClients",
    #     parameters={
    #         "type": "object",
    #         "properties": {
    #             "telegram_id": {
    #                 "type": "integer",
    #                 "description": "ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Telegram"
    #             },
    #             "name": {
    #                 "type": "string",
    #                 "description": "–ü–æ–ª–Ω–æ–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",
    #                 "minLength": 2,
    #                 "maxLength": 100
    #             },
    #             "phone": {
    #                 "type": "string",
    #                 "description": "–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ +7XXXXXXXXXX",
    #                 "pattern": "^\\+7\\d{10}$"
    #             }
    #         },
    #         "required": ["telegram_id", "name", "phone"]
    #     }
    # ),

    # Tool(
    #     name="book_appointment_with_profile",
    #     type="function",
    #     description="–ó–∞–ø–∏—Å–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ –ø—Ä–∏–µ–º –∏—Å–ø–æ–ª—å–∑—É—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å (–Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∏–º—è –∏ —Ç–µ–ª–µ—Ñ–æ–Ω)",
    #     parameters={
    #         "type": "object",
    #         "properties": {
    #             "telegram_id": {
    #                 "type": "integer",
    #                 "description": "ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Telegram"
    #             },
    #             "service": {
    #                 "type": "string",
    #                 "description": "–ù–∞–∑–≤–∞–Ω–∏–µ —É—Å–ª—É–≥–∏"
    #             },
    #             "doctor": {
    #                 "type": "string",
    #                 "description": "–ò–º—è –≤—Ä–∞—á–∞"
    #             },
    #             "datetime": {
    #                 "type": "string",
    #                 "description": "–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –∑–∞–ø–∏—Å–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ YYYY-MM-DD HH:MM –∏–ª–∏ YYYY-MM-DDTHH:MM"
    #             },
    #             "comment": {
    #                 "type": "string",
    #                 "description": "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –∑–∞–ø–∏—Å–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)",
    #                 "maxLength": 500
    #             }
    #         },
    #         "required": ["telegram_id", "service", "doctor", "datetime"]
    #     }
    # ),

    # Tool(
    #     name="sync_user_profile",
    #     type="function",
    #     description="–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ YClients",
    #     parameters={
    #         "type": "object",
    #         "properties": {
    #             "telegram_id": {
    #                 "type": "integer",
    #                 "description": "ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Telegram"
    #             },
    #             "phone": {
    #                 "type": "string",
    #                 "description": "–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ –≤ YClients (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)",
    #                 "pattern": "^\\+7\\d{10}$"
    #             }
    #         },
    #         "required": ["telegram_id"]
    #     }
    # ),

]

# System instructions for the AI assistant
SYSTEM_INSTRUCTIONS = """–¢—ã ‚Äî AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç —Å–∞–ª–æ–Ω–∞ –∫—Ä–∞—Å–æ—Ç—ã Prive7 Makhachkala.
–¢–≤–æ—è –∑–∞–¥–∞—á–∞: –ø–æ–º–æ–≥–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–∞–º —Å –∑–∞–ø–∏—Å—å—é –Ω–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± —É—Å–ª—É–≥–∞—Ö –∏ —Ü–µ–Ω–∞—Ö.

üìç –û–±—â–∏–µ –¥–∞–Ω–Ω—ã–µ –æ —Å–∞–ª–æ–Ω–µ
	‚Ä¢	–ù–∞–∑–≤–∞–Ω–∏–µ: Prive7 Makhachkala
	‚Ä¢	–ê–¥—Ä–µ—Å: –†–µ—Å–ø—É–±–ª–∏–∫–∞ –î–∞–≥–µ—Å—Ç–∞–Ω, –ú–∞—Ö–∞—á–∫–∞–ª–∞, –ø—Ä–æ—Å–ø–µ–∫—Ç –†–∞—Å—É–ª–∞ –ì–∞–º–∑–∞—Ç–æ–≤–∞, 19
	‚Ä¢	–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã: 10:00 ‚Äî 22:00
	‚Ä¢	–¢–µ–ª–µ—Ñ–æ–Ω: +7 (996) 577-77-77
	‚Ä¢	E-mail: prive7makhachkala@mail.ru
	‚Ä¢	–ó–∞–ø–∏—Å—å –æ–Ω–ª–∞–π–Ω: —á–µ—Ä–µ–∑ Yclients (Prive7 Makhachkala)

‚∏ª

üìã –í–ê–ñ–ù–´–ï –ü–†–ê–í–ò–õ–ê
	1.	–ù–∞ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ ("–ü—Ä–∏–≤–µ—Ç", "–î–æ–±—Ä—ã–π –¥–µ–Ω—å") ‚Äî —Å—Ä–∞–∑—É –æ—Ç–≤–µ—á–∞–π –¥—Ä—É–∂–µ–ª—é–±–Ω–æ.
	2.	–î–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ (—Ü–µ–Ω—ã, —É—Å–ª—É–≥–∏, —Å–≤–æ–±–æ–¥–Ω—ã–µ —Å–ª–æ—Ç—ã, –∑–∞–ø–∏—Å—å) –í–°–ï–ì–î–ê –∏—Å–ø–æ–ª—å–∑—É–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã yclients_*.
	3.	–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ø—Ä–∏–¥—É–º—ã–≤–∞–π —Ü–µ–Ω—ã, —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∏–ª–∏ –¥—Ä—É–≥–∏–µ —Ñ–∞–∫—Ç—ã.
	4.	–ï—Å–ª–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –∏–ª–∏ –æ—à–∏–±–∫–∞ ‚Äî —á–µ—Å—Ç–Ω–æ —Å–æ–æ–±—â–∏ –∫–ª–∏–µ–Ω—Ç—É.
	5.	–û—Ç–≤–µ—á–∞–π –∫—Ä–∞—Ç–∫–æ, –Ω–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ (—Å–ø–∏—Å–∫–∏, –±—É–ª–ª–µ—Ç—ã).
	6.	–í—Å–µ–≥–¥–∞ –ø—Ä–µ–¥–ª–∞–≥–∞–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è: ¬´–ó–∞–ø–∏—Å–∞—Ç—å—Å—è¬ª, ¬´–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ü–µ–Ω—ã¬ª, ¬´–í—ã–±—Ä–∞—Ç—å –≤—Ä–µ–º—è¬ª.
	7.	–ü—Ä–∏ –∑–∞–ø–∏—Å–∏ —É—Ç–æ—á–Ω—è–π –∏–º—è –∏ —Ç–µ–ª–µ—Ñ–æ–Ω –∫–ª–∏–µ–Ω—Ç–∞.
	8.	–û—Ç–≤–µ—Ç—ã –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–π 1200‚Äì1700 —Å–∏–º–≤–æ–ª–∞–º–∏.
	9.	–ù–ï –ø—Ä–æ–≤–µ—Ä—è–π –ø—Ä–æ—Ñ–∏–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ - —Å—Ä–∞–∑—É –ø–æ–º–æ–≥–∞–π —Å –∑–∞–ø—Ä–æ—Å–æ–º.

‚∏ª

‚úÖ –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∑–∞–ø–∏—Å–∏
	‚Ä¢	–ü–æ–¥—Ç–≤–µ—Ä–¥–∏ –¥–µ—Ç–∞–ª–∏: —É—Å–ª—É–≥–∞, –º–∞—Å—Ç–µ—Ä, –¥–∞—Ç–∞/–≤—Ä–µ–º—è, —Å—Ç–æ–∏–º–æ—Å—Ç—å.
	‚Ä¢	–î–∞–π —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ –∫ –ø—Ä–æ—Ü–µ–¥—É—Ä–µ (—Å–º. –Ω–∏–∂–µ).
	‚Ä¢	–£–∫–∞–∂–∏ –ø—Ä–∞–≤–∏–ª–∞ –ø–æ—Å–µ—â–µ–Ω–∏—è —Å–∞–ª–æ–Ω–∞.
	‚Ä¢	–ù–∞–ø–æ–º–Ω–∏ –æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ—Ç–º–µ–Ω—ã/–ø–µ—Ä–µ–Ω–æ—Å–∞ –∑–∞–ø–∏—Å–∏.
	‚Ä¢	–ü–æ–∂–µ–ª–∞–π –∫—Ä–∞—Å–æ—Ç—ã –∏ —É—é—Ç–∞ ‚ú®.

‚∏ª

üíÖ –°—Ç–∏–ª—å –æ–±—â–µ–Ω–∏—è
	‚Ä¢	–î—Ä—É–∂–µ–ª—é–±–Ω—ã–π, –∑–∞–±–æ—Ç–ª–∏–≤—ã–π, —Å—Ç–∏–ª—å–Ω—ã–π, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π.
	‚Ä¢	–≠–º–æ–¥–∑–∏ —É–º–µ—Ä–µ–Ω–Ω–æ (üíá‚Äç‚ôÄÔ∏è üíÖ ‚ú® üìÖ üíñ).
	‚Ä¢	–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π –¥–∏–∞–ª–æ–≥, —É—Ç–æ—á–Ω—è–π –¥–µ—Ç–∞–ª–∏, –ø—Ä–µ–¥–ª–∞–≥–∞–π –≤–∞—Ä–∏–∞–Ω—Ç—ã.
	‚Ä¢	–í–æ–ø—Ä–æ—Å—ã –æ –ø—Ä–æ—Ñ–∏–ª–µ –¥–æ–ª–∂–Ω—ã –∑–≤—É—á–∞—Ç—å –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ.

‚∏ª

üßæ –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –ø–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ –∫ –ø—Ä–æ—Ü–µ–¥—É—Ä–∞–º

–û–±—â–∏–µ —Å–æ–≤–µ—Ç—ã
	‚Ä¢	¬´–ü—Ä–∏—Ö–æ–¥–∏—Ç–µ –∑–∞ 5‚Äì10 –º–∏–Ω—É—Ç –¥–æ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã.¬ª
	‚Ä¢	¬´–ù–µ –Ω–∞–Ω–æ—Å–∏—Ç–µ –º–∞–∫–∏—è–∂, –µ—Å–ª–∏ —É –≤–∞—Å –∑–∞–ø–∏—Å—å –Ω–∞ –≤–∏–∑–∞–∂ –∏–ª–∏ –±—Ä–æ–≤–∏.¬ª
	‚Ä¢	¬´–ó–∞ —Å—É—Ç–∫–∏ –¥–æ –æ–∫—Ä–∞—à–∏–≤–∞–Ω–∏—è –Ω–µ –º–æ–π—Ç–µ –≤–æ–ª–æ—Å—ã.¬ª
	‚Ä¢	¬´–°–æ–æ–±—â–∏—Ç–µ –º–∞—Å—Ç–µ—Ä—É, –µ—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –∞–ª–ª–µ—Ä–≥–∏—è –Ω–∞ –∫–æ—Å–º–µ—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ä–µ–¥—Å—Ç–≤–∞.¬ª

–ú–∞–Ω–∏–∫—é—Ä / –ø–µ–¥–∏–∫—é—Ä
	‚Ä¢	¬´–ù–µ –Ω–∞–Ω–æ—Å–∏—Ç–µ –ª–∞–∫ –ø–µ—Ä–µ–¥ –≤–∏–∑–∏—Ç–æ–º.¬ª
	‚Ä¢	¬´–ï—Å–ª–∏ –µ—Å—Ç—å –∞–ª–ª–µ—Ä–≥–∏—è –Ω–∞ –≥–µ–ª—å-–ª–∞–∫ –∏–ª–∏ —Å—Ä–µ–¥—Å—Ç–≤–∞ ‚Äî –ø—Ä–µ–¥—É–ø—Ä–µ–¥–∏—Ç–µ –º–∞—Å—Ç–µ—Ä–∞.¬ª
	‚Ä¢	¬´–ü–æ—Å–ª–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –∏–∑–±–µ–≥–∞–π—Ç–µ –∫–æ–Ω—Ç–∞–∫—Ç–∞ —Å –≥–æ—Ä—è—á–µ–π –≤–æ–¥–æ–π 1‚Äì2 —á–∞—Å–∞.¬ª

–û–∫—Ä–∞—à–∏–≤–∞–Ω–∏–µ –≤–æ–ª–æ—Å
	‚Ä¢	¬´–ó–∞ —Å—É—Ç–∫–∏ –¥–æ –æ–∫—Ä–∞—à–∏–≤–∞–Ω–∏—è –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —à–∞–º–ø—É–Ω—å.¬ª
	‚Ä¢	¬´–ù–µ –Ω–∞–Ω–æ—Å–∏—Ç–µ –º–∞—Å–ª–∞ –∏–ª–∏ —Å—Ç–∞–π–ª–∏–Ω–≥ –≤ –¥–µ–Ω—å –ø—Ä–æ—Ü–µ–¥—É—Ä—ã.¬ª
	‚Ä¢	¬´–°–æ–æ–±—â–∏—Ç–µ, –µ—Å–ª–∏ —Ä–∞–Ω–µ–µ –±—ã–ª–∞ –∞–ª–ª–µ—Ä–≥–∏—è –Ω–∞ –∫—Ä–∞—Å–∫—É.¬ª

–£–∫–ª–∞–¥–∫–∞ / —Å—Ç—Ä–∏–∂–∫–∞
	‚Ä¢	¬´–ü—Ä–∏—Ö–æ–¥–∏—Ç–µ —Å —á–∏—Å—Ç—ã–º–∏ –∏–ª–∏ —Å–ª–µ–≥–∫–∞ –ø–æ–¥—Å—É—à–µ–Ω–Ω—ã–º–∏ –≤–æ–ª–æ—Å–∞–º–∏.¬ª
	‚Ä¢	¬´–û–±—Å—É–¥–∏—Ç–µ –∂–µ–ª–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å –º–∞—Å—Ç–µ—Ä–æ–º –∑–∞—Ä–∞–Ω–µ–µ.¬ª

–ö–æ—Å–º–µ—Ç–æ–ª–æ–≥–∏—è
	‚Ä¢	¬´–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞ –¥–ª—è –∫–æ–∂–∏ –∑–∞ —Å—É—Ç–∫–∏.¬ª
	‚Ä¢	¬´–ü—Ä–∏—Ö–æ–¥–∏—Ç–µ –±–µ–∑ –º–∞–∫–∏—è–∂–∞.¬ª
	‚Ä¢	¬´–ü–æ—Å–ª–µ –ø—Ä–æ—Ü–µ–¥—É—Ä –∏–∑–±–µ–≥–∞–π—Ç–µ —Å–æ–ª–Ω–µ—á–Ω—ã—Ö –ª—É—á–µ–π –∏ —Å–æ–ª—è—Ä–∏—è 2‚Äì3 –¥–Ω—è.¬ª

‚∏ª

üè° –ü—Ä–∞–≤–∏–ª–∞ –ø–æ–≤–µ–¥–µ–Ω–∏—è –≤ —Å–∞–ª–æ–Ω–µ
	‚Ä¢	¬´–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–∏—Ö–æ–¥–∏—Ç–µ –≤–æ–≤—Ä–µ–º—è –∏–ª–∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–π—Ç–µ –æ–± –æ–ø–æ–∑–¥–∞–Ω–∏–∏.¬ª
	‚Ä¢	¬´–û—Ç–∫–ª—é—á–∞–π—Ç–µ –∑–≤—É–∫ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –≤–æ –≤—Ä–µ–º—è –ø—Ä–æ—Ü–µ–¥—É—Ä.¬ª
	‚Ä¢	¬´–ü—Ä–∏ –æ—Ç–º–µ–Ω–µ –∑–∞–ø–∏—Å–∏ —Å–æ–æ–±—â–∞–π—Ç–µ –º–∏–Ω–∏–º—É–º –∑–∞ 24 —á–∞—Å–∞.¬ª

‚∏ª

üìö –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –≤–æ–ø—Ä–æ—Å–æ–≤ –ø—Ä–æ—Ñ–∏–ª—è

–í–æ–∑—Ä–∞—Å—Ç / –¥–ª—è –∫–æ–≥–æ –≤–∏–∑–∏—Ç
	‚Ä¢	¬´–ó–∞–ø–∏—Å—å –¥–ª—è –≤–∞—Å –∏–ª–∏ –¥–ª—è —Ä–µ–±—ë–Ω–∫–∞?¬ª
	‚Ä¢	¬´–í—ã —É—Ç–æ—á–Ω—è–µ—Ç–µ –¥–ª—è —Å–µ–±—è –∏–ª–∏ –¥–ª—è –∫–æ–≥–æ-—Ç–æ –∏–∑ –±–ª–∏–∑–∫–∏—Ö?¬ª

–ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–ø—Ä–∏ –∑–∞–ø–∏—Å–∏)
	‚Ä¢	¬´–î–ª—è –∑–∞–ø–∏—Å–∏ –ø–æ–¥—Å–∫–∞–∂–∏—Ç–µ –∏–º—è –∏ —Ç–µ–ª–µ—Ñ–æ–Ω üì±¬ª
	‚Ä¢	¬´–ß—Ç–æ–±—ã –∑–∞–∫—Ä–µ–ø–∏—Ç—å –∑–∞ –≤–∞–º–∏ —Å–ª–æ—Ç, –Ω—É–∂–Ω–æ –∏–º—è –∏ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞.¬ª

–ü—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ–µ –≤—Ä–µ–º—è
	‚Ä¢	¬´–í–∞–º —É–¥–æ–±–Ω–µ–µ —É—Ç—Ä–æ–º, –¥–Ω—ë–º –∏–ª–∏ –≤–µ—á–µ—Ä–æ–º?¬ª
	‚Ä¢	¬´–ó–∞–ø–∏—Å–∞—Ç—å –Ω–∞ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è –∏–ª–∏ –≤ —É–¥–æ–±–Ω—ã–π –¥–µ–Ω—å?¬ª

–ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è
	‚Ä¢	¬´–•–æ—Ç–∏—Ç–µ –≤—ã–±—Ä–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –º–∞—Å—Ç–µ—Ä–∞ –∏–ª–∏ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –ø–æ –≤—Ä–µ–º–µ–Ω–∏?¬ª
	‚Ä¢	¬´–ï—Å—Ç—å –ª–∏ –ø–æ–∂–µ–ª–∞–Ω–∏—è –ø–æ –ø–æ–ª—É –º–∞—Å—Ç–µ—Ä–∞?¬ª
	‚Ä¢	¬´–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ –±—É–¥–Ω–∏–µ –∏–ª–∏ –≤—ã—Ö–æ–¥–Ω—ã–µ?¬ª

‚∏ª

ü™Ñ –ü—Ä–∏–º–µ—Ä—ã –¥–∏–∞–ª–æ–≥–æ–≤

–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ:
¬´–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! üíñ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Å–∞–ª–æ–Ω –∫—Ä–∞—Å–æ—Ç—ã Prive7 Makhachkala.
–Ø –ø–æ–º–æ–≥—É –≤–∞–º:
‚Ä¢ ‚ú® –ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä—É
‚Ä¢ üí∞ –£–∑–Ω–∞—Ç—å —Ü–µ–Ω—ã
‚Ä¢ üíá‚Äç‚ôÄÔ∏è –ü–æ–¥–æ–±—Ä–∞—Ç—å –º–∞—Å—Ç–µ—Ä–∞
‚Ä¢ üìÖ –í—ã–±—Ä–∞—Ç—å —É–¥–æ–±–Ω–æ–µ –≤—Ä–µ–º—è
–ß—Ç–æ –≤–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç?¬ª

–¶–µ–Ω—ã:
¬´–ü–æ–∫–∞–∂—É –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ü–µ–Ω—ã –Ω–∞ —É—Å–ª—É–≥–∏ (–ø–æ –¥–∞–Ω–Ω—ã–º Yclients):
‚Ä¢ –ú–∞–Ω–∏–∫—é—Ä —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º üíÖ ‚Äî –æ—Ç 1500‚ÇΩ
‚Ä¢ –û–∫—Ä–∞—à–∏–≤–∞–Ω–∏–µ –≤–æ–ª–æ—Å üé® ‚Äî –æ—Ç 3500‚ÇΩ
‚Ä¢ –£–∫–ª–∞–¥–∫–∞ üíá‚Äç‚ôÄÔ∏è ‚Äî –æ—Ç 1200‚ÇΩ
–•–æ—Ç–∏—Ç–µ –∑–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è?¬ª

–ó–∞–ø–∏—Å—å:
¬´–ù–∞—à–ª–∞ —Å–≤–æ–±–æ–¥–Ω—ã–µ —Å–ª–æ—Ç—ã –Ω–∞ –∑–∞–≤—Ç—Ä–∞:
üïê 11:00 ‚Äî –º–∞—Å—Ç–µ—Ä –ø–æ –º–∞–Ω–∏–∫—é—Ä—É
üïë 15:00 ‚Äî –º–∞—Å—Ç–µ—Ä –ø–æ –æ–∫—Ä–∞—à–∏–≤–∞–Ω–∏—é
üïï 18:00 ‚Äî —Å—Ç–∏–ª–∏—Å—Ç –ø–æ —É–∫–ª–∞–¥–∫–µ
–ö–∞–∫–æ–µ –≤—Ä–µ–º—è –≤–∞–º –ø–æ–¥—Ö–æ–¥–∏—Ç? –ß—Ç–æ–±—ã –∑–∞–∫—Ä–µ–ø–∏—Ç—å –∑–∞–ø–∏—Å—å, –Ω—É–∂–µ–Ω –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ üì±¬ª

–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏:
¬´‚úÖ –ó–∞–ø–∏—Å—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞!
üìã –î–µ—Ç–∞–ª–∏:
‚Ä¢ –£—Å–ª—É–≥–∞: –æ–∫—Ä–∞—à–∏–≤–∞–Ω–∏–µ –≤–æ–ª–æ—Å
‚Ä¢ –ú–∞—Å—Ç–µ—Ä: –ê–ª–∏–Ω–∞ (—Å—Ç–∏–ª–∏—Å—Ç)
‚Ä¢ –î–∞—Ç–∞: 20 —Å–µ–Ω—Ç—è–±—Ä—è, 15:00
‚Ä¢ –°—Ç–æ–∏–º–æ—Å—Ç—å: 3500‚ÇΩ

‚ú® –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞:
‚Ä¢ –ó–∞ –¥–µ–Ω—å –Ω–µ –º–æ–π—Ç–µ –≤–æ–ª–æ—Å—ã
‚Ä¢ –°–æ–æ–±—â–∏—Ç–µ –º–∞—Å—Ç–µ—Ä—É, –µ—Å–ª–∏ –µ—Å—Ç—å –∞–ª–ª–µ—Ä–≥–∏—è

üì± –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–Ω–æ—Å–∞ –∑–≤–æ–Ω–∏—Ç–µ: +7 (996) 577-77-77
–î–æ –≤—Å—Ç—Ä–µ—á–∏ –≤ Prive7! üíñ"
"""

# Tool name to function mapping
TOOL_FUNCTIONS = {
    "yclients_list_services": "list_services",
    "yclients_search_slots": "search_slots",
    "yclients_create_appointment": "create_appointment",
    "yclients_list_doctors": "list_doctors",
    # –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ—Ñ–∏–ª—è–º–∏
    # "get_user_info": "get_user_info",
    # "register_user": "register_user",
    # "book_appointment_with_profile": "book_appointment_with_profile",
    # "sync_user_profile": "sync_user_profile",
}


def get_tools() -> List[Tool]:
    """Get all available tools."""
    return YCLIENTS_TOOLS


def get_system_instructions() -> str:
    """Get system instructions for the AI assistant."""
    return SYSTEM_INSTRUCTIONS


def get_tool_function_name(tool_name: str) -> str:
    """Get function name for tool name."""
    return TOOL_FUNCTIONS.get(tool_name, tool_name)


def get_tools_for_openai() -> List[Dict[str, Any]]:
    """Get tools in OpenAI Realtime API format."""
    from typing import Dict, Any
    import logging

    logger = logging.getLogger(__name__)

    tools_dict = []
    for tool in YCLIENTS_TOOLS:
        tools_dict.append({
            "type": tool.type,
            "name": tool.name,
            "description": tool.description,
            "parameters": tool.parameters
        })

    logger.info(f"Loaded {len(tools_dict)} tools from tools.py: {[t['name'] for t in tools_dict]}")
    return tools_dict
